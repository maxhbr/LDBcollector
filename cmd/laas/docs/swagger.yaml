basePath: /api/v1
definitions:
  datatypes.JSONType-models_LicenseDBSchemaExtension:
    type: object
  models.APICollection:
    properties:
      authenticated:
        type: object
      unAuthenticated:
        type: object
    type: object
  models.APICollectionResponse:
    properties:
      data:
        $ref: '#/definitions/models.APICollection'
      status:
        example: 200
        type: integer
    type: object
  models.Audit:
    properties:
      entity:
        type: object
      id:
        example: f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        type: string
      timestamp:
        example: "2023-12-01T18:10:25.00+05:30"
        type: string
      type:
        enum:
        - OBLIGATION
        - LICENSE
        - USER
        example: LICENSE
        type: string
      type_id:
        example: f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        type: string
      user:
        $ref: '#/definitions/models.User'
      user_id:
        example: f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        type: string
    type: object
  models.AuditResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/models.Audit'
        type: array
      paginationmeta:
        $ref: '#/definitions/models.PaginationMeta'
      status:
        example: 200
        type: integer
    type: object
  models.CategoryObligationCount:
    properties:
      category:
        example: GENERAL
        type: string
      count:
        example: 6
        type: integer
    type: object
  models.ChangeLog:
    properties:
      audit_id:
        example: f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        type: string
      field:
        example: text
        type: string
      id:
        example: f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        type: string
      old_value:
        example: Old license text
        type: string
      updated_value:
        example: New license text
        type: string
    type: object
  models.ChangeLogResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/models.ChangeLog'
        type: array
      paginationmeta:
        $ref: '#/definitions/models.PaginationMeta'
      status:
        example: 200
        type: integer
    type: object
  models.CreateDeleteOidcClientDTO:
    properties:
      clientId:
        example: qwerty
        type: string
    required:
    - clientId
    type: object
  models.Dashboard:
    properties:
      category_obligation_frequency:
        items:
          $ref: '#/definitions/models.CategoryObligationCount'
        type: array
      licenses_count:
        example: 2
        type: integer
      monthly_license_changes_count:
        example: 6
        type: integer
      obligations_count:
        example: 7
        type: integer
      risk_license_frequency:
        items:
          $ref: '#/definitions/models.RiskLicenseCount'
        type: array
      users_count:
        example: 5
        type: integer
    type: object
  models.DashboardResponse:
    properties:
      data:
        $ref: '#/definitions/models.Dashboard'
      status:
        example: 200
        type: integer
    type: object
  models.ImportLicensesResponse:
    properties:
      data:
        description: can be of type models.LicenseError or models.LicenseImportStatus
        items: {}
        type: array
      status:
        example: 200
        type: integer
    type: object
  models.ImportObligationsResponse:
    properties:
      data:
        description: can be of type models.LicenseError or models.ObligationImportStatus
        items: {}
        type: array
      status:
        example: 200
        type: integer
    type: object
  models.LicenseCreateDTO:
    properties:
      OSIapproved:
        example: false
        type: boolean
      active:
        example: true
        type: boolean
      copyleft:
        example: false
        type: boolean
      external_ref:
        $ref: '#/definitions/models.LicenseDBSchemaExtension'
      fullname:
        example: MIT License
        type: string
      notes:
        example: This license has been superseded.
        type: string
      obligations:
        example:
        - f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        - f812jfae-7dbc-11d0-a765-00a0hf06bf6
        items:
          type: string
        type: array
      risk:
        example: 1
        maximum: 5
        minimum: 0
        type: integer
      shortname:
        example: MIT
        type: string
      source:
        example: spdx
        type: string
      spdx_id:
        example: MIT
        type: string
      text:
        example: MIT License Text here
        type: string
      text_updatable:
        example: false
        type: boolean
      url:
        example: https://opensource.org/licenses/MIT
        type: string
    required:
    - fullname
    - shortname
    - spdx_id
    - text
    type: object
  models.LicenseDB:
    properties:
      active:
        type: boolean
      addDate:
        type: string
      copyleft:
        type: boolean
      externalRef:
        $ref: '#/definitions/datatypes.JSONType-models_LicenseDBSchemaExtension'
      fullname:
        type: string
      id:
        type: string
      notes:
        type: string
      obligations:
        items:
          $ref: '#/definitions/models.Obligation'
        type: array
      osiapproved:
        type: boolean
      risk:
        type: integer
      shortname:
        type: string
      source:
        type: string
      spdxId:
        type: string
      text:
        type: string
      textUpdatable:
        type: boolean
      url:
        type: string
      user:
        $ref: '#/definitions/models.User'
      userId:
        type: string
    type: object
  models.LicenseDBSchemaExtension:
    type: object
  models.LicenseError:
    properties:
      error:
        example: invalid request body
        type: string
      message:
        example: invalid request body
        type: string
      path:
        example: /api/v1/licenses
        type: string
      status:
        example: 400
        type: integer
      timestamp:
        example: "2023-12-01T10:00:51+05:30"
        type: string
    type: object
  models.LicenseImportStatus:
    properties:
      id:
        example: f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        type: string
      shortname:
        example: MIT
        type: string
      status:
        example: 200
        type: integer
    type: object
  models.LicenseListInput:
    properties:
      ids:
        items:
          type: object
        type: array
    type: object
  models.LicenseMapElement:
    properties:
      add:
        example: true
        type: boolean
      id:
        example: f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        type: string
    type: object
  models.LicenseMapInput:
    properties:
      map:
        items:
          $ref: '#/definitions/models.LicenseMapElement'
        type: array
    type: object
  models.LicensePreview:
    properties:
      id:
        example: f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        type: string
      shortname:
        example: GPL-2.0-or-later
        type: string
    type: object
  models.LicensePreviewResponse:
    properties:
      licenses:
        items:
          $ref: '#/definitions/models.LicensePreview'
        type: array
      status:
        example: 200
        type: integer
    type: object
  models.LicenseResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/models.LicenseResponseDTO'
        type: array
      paginationmeta:
        $ref: '#/definitions/models.PaginationMeta'
      status:
        example: 200
        type: integer
    type: object
  models.LicenseResponseDTO:
    properties:
      OSIapproved:
        type: boolean
      active:
        type: boolean
      add_date:
        type: string
      copyleft:
        type: boolean
      created_by:
        $ref: '#/definitions/models.User'
      external_ref:
        $ref: '#/definitions/models.LicenseDBSchemaExtension'
      fullname:
        example: MIT License
        type: string
      id:
        example: f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        type: string
      notes:
        example: This license has been superseded.
        type: string
      obligations:
        items:
          type: string
        type: array
      risk:
        example: 1
        type: integer
      shortname:
        example: MIT
        type: string
      source:
        type: string
      spdx_id:
        example: MIT
        type: string
      text:
        example: MIT License Text here
        type: string
      text_updatable:
        type: boolean
      url:
        example: https://opensource.org/licenses/MIT
        type: string
    type: object
  models.LicenseUpdateDTO:
    properties:
      OSIapproved:
        example: false
        type: boolean
      active:
        example: true
        type: boolean
      copyleft:
        example: false
        type: boolean
      external_ref:
        additionalProperties: true
        type: object
      fullname:
        example: MIT License
        type: string
      notes:
        example: This license has been superseded.
        type: string
      obligations:
        items:
          $ref: '#/definitions/models.Obligation'
        type: array
      risk:
        example: 1
        maximum: 5
        minimum: 0
        type: integer
      shortname:
        example: MIT
        type: string
      source:
        example: Source
        type: string
      spdx_id:
        example: MIT
        type: string
      text:
        example: MIT License Text here
        type: string
      text_updatable:
        example: false
        type: boolean
      url:
        example: https://opensource.org/licenses/MIT
        type: string
    type: object
  models.Obligation:
    properties:
      active:
        type: boolean
      category:
        enum:
        - DISTRIBUTION
        - PATENT
        - INTERNAL
        - CONTRACTUAL
        - EXPORT_CONTROL
        - GENERAL
        example: DISTRIBUTION
        type: string
      classification:
        $ref: '#/definitions/models.ObligationClassification'
      comment:
        type: string
      id:
        type: string
      licenses:
        items:
          $ref: '#/definitions/models.LicenseDB'
        type: array
      obligationClassificationId:
        type: string
      obligationTypeId:
        type: string
      text:
        type: string
      textUpdatable:
        type: boolean
      topic:
        type: string
      type:
        $ref: '#/definitions/models.ObligationType'
    type: object
  models.ObligationClassification:
    properties:
      classification:
        example: GREEN
        type: string
      color:
        example: '#00FF00'
        type: string
    required:
    - classification
    - color
    type: object
  models.ObligationClassificationResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/models.ObligationClassification'
        type: array
      paginationmeta:
        $ref: '#/definitions/models.PaginationMeta'
      status:
        example: 200
        type: integer
    type: object
  models.ObligationCreateDTO:
    properties:
      active:
        type: boolean
      category:
        example: DISTRIBUTION
        type: string
      classification:
        example: GREEN
        type: string
      comment:
        type: string
      license_ids:
        example:
        - f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        - f812jfae-7dbc-11d0-a765-00a0hf06bf6
        items:
          type: string
        type: array
      text:
        example: Source code be made available when distributing the software.
        type: string
      text_updatable:
        example: true
        type: boolean
      topic:
        example: copyleft
        type: string
      type:
        example: RISK
        type: string
    required:
    - classification
    - license_ids
    - text
    - topic
    - type
    type: object
  models.ObligationId:
    properties:
      id:
        example: f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        type: string
      topic:
        example: copyleft
        type: string
    type: object
  models.ObligationImportStatus:
    properties:
      data:
        $ref: '#/definitions/models.ObligationId'
      message:
        type: string
      status:
        example: 200
        type: integer
    type: object
  models.ObligationMapLicenseFormat:
    properties:
      id:
        example: f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        type: string
      shortname:
        example: MIT
        type: string
    type: object
  models.ObligationMapResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/models.ObligationMapUser'
        type: array
      paginationmeta:
        $ref: '#/definitions/models.PaginationMeta'
      status:
        example: 200
        type: integer
    type: object
  models.ObligationMapUser:
    properties:
      id:
        example: f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        type: string
      licenses:
        items:
          $ref: '#/definitions/models.ObligationMapLicenseFormat'
        type: array
      topic:
        example: copyleft
        type: string
      type:
        enum:
        - obligation
        - restriction
        - risk
        - right
        example: obligation
        type: string
    type: object
  models.ObligationPreview:
    properties:
      id:
        example: f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        type: string
      topic:
        example: Provide Copyright Notices
        type: string
      type:
        enum:
        - OBLIGATION
        - RESTRICTION
        - RISK
        - RIGHT
        type: string
    type: object
  models.ObligationPreviewResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/models.ObligationPreview'
        type: array
      status:
        example: 200
        type: integer
    type: object
  models.ObligationResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/models.ObligationResponseDTO'
        type: array
      paginationmeta:
        $ref: '#/definitions/models.PaginationMeta'
      status:
        example: 200
        type: integer
    type: object
  models.ObligationResponseDTO:
    properties:
      active:
        type: boolean
      category:
        example: DISTRIBUTION
        type: string
      classification:
        example: GREEN
        type: string
      comment:
        type: string
      id:
        example: f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        type: string
      license_ids:
        example:
        - f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        - f812jfae-7dbc-11d0-a765-00a0hf06bf6
        items:
          type: string
        type: array
      text:
        example: Source code be made available when distributing the software.
        type: string
      text_updatable:
        example: true
        type: boolean
      topic:
        example: copyleft
        type: string
      type:
        example: RISK
        type: string
    required:
    - category
    - classification
    - license_ids
    - text
    - topic
    - type
    type: object
  models.ObligationType:
    properties:
      type:
        example: PERMISSION
        type: string
    required:
    - type
    type: object
  models.ObligationTypeResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/models.ObligationType'
        type: array
      paginationmeta:
        $ref: '#/definitions/models.PaginationMeta'
      status:
        example: 200
        type: integer
    type: object
  models.ObligationUpdateDTO:
    properties:
      active:
        type: boolean
      category:
        example: DISTRIBUTION
        type: string
      classification:
        example: GREEN
        type: string
      comment:
        type: string
      license_ids:
        example:
        - f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        - f812jfae-7dbc-11d0-a765-00a0hf06bf6
        items:
          type: string
        type: array
      text:
        example: Source code be made available when distributing the software.
        type: string
      text_updatable:
        example: true
        type: boolean
      topic:
        example: copyleft
        type: string
      type:
        example: RISK
        type: string
    required:
    - license_ids
    type: object
  models.OidcClientDTO:
    properties:
      add_date:
        type: string
      client_id:
        example: qwerty
        type: string
      id:
        example: f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        type: string
    type: object
  models.OidcClientsResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/models.OidcClientDTO'
        type: array
      paginationmeta:
        $ref: '#/definitions/models.PaginationMeta'
      status:
        example: 200
        type: integer
    type: object
  models.PaginationMeta:
    properties:
      limit:
        example: 10
        type: integer
      next:
        example: /api/v1/licenses?limit=10&page=11
        type: string
      page:
        example: 10
        type: integer
      previous:
        example: /api/v1/licenses?limit=10&page=9
        type: string
      resource_count:
        example: 200
        type: integer
      total_pages:
        example: 20
        type: integer
    type: object
  models.ProfileUpdate:
    properties:
      display_name:
        example: fossy
        type: string
      user_email:
        type: string
      user_password:
        type: string
    type: object
  models.RefreshToken:
    properties:
      refresh_token:
        example: your_refresh_token_here
        type: string
    type: object
  models.RiskLicenseCount:
    properties:
      count:
        example: 6
        type: integer
      risk:
        example: 2
        type: integer
    type: object
  models.SearchLicense:
    properties:
      field:
        example: text
        type: string
      search:
        enum:
        - fuzzy
        - full_text_search
        type: string
      search_term:
        example: MIT License
        type: string
    required:
    - field
    - search_term
    type: object
  models.SimilarLicense:
    properties:
      id:
        example: f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        type: string
      shortname:
        example: MIT
        type: string
      similarity:
        type: number
      text:
        example: MIT License Text here
        type: string
    type: object
  models.SimilarObligation:
    properties:
      id:
        example: f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        type: string
      similarity:
        type: number
      text:
        example: obligation text here
        type: string
      topic:
        example: MIT license
        type: string
    type: object
  models.SimilarityRequest:
    properties:
      text:
        type: string
    required:
    - text
    type: object
  models.TokenResonse:
    properties:
      data:
        $ref: '#/definitions/models.Tokens'
      meta: {}
      status:
        type: integer
    type: object
  models.Tokens:
    properties:
      access_token:
        example: your_access_token_here
        type: string
      expires_in:
        example: 3600
        type: integer
      refresh_token:
        example: your_refresh_token_here
        type: string
    type: object
  models.User:
    properties:
      display_name:
        example: fossy
        type: string
      id:
        example: f81d4fae-7dec-11d0-a765-00a0c91e6bf6
        type: string
      user_email:
        example: fossy@org.com
        type: string
      user_level:
        example: USER
        type: string
      user_name:
        example: fossy
        type: string
    type: object
  models.UserCreate:
    properties:
      display_name:
        example: fossy
        type: string
      user_email:
        example: fossy@org.com
        type: string
      user_level:
        enum:
        - USER
        - ADMIN
        example: ADMIN
        type: string
      user_name:
        example: fossy
        type: string
      user_password:
        example: fossy
        type: string
    required:
    - display_name
    - user_email
    - user_level
    - user_name
    type: object
  models.UserLogin:
    properties:
      password:
        example: fossy
        type: string
      username:
        example: fossy
        type: string
    required:
    - password
    - username
    type: object
  models.UserResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/models.User'
        type: array
      paginationmeta:
        $ref: '#/definitions/models.PaginationMeta'
      status:
        example: 200
        type: integer
    type: object
  models.UserUpdate:
    properties:
      active:
        type: boolean
      display_name:
        example: fossy
        type: string
      user_email:
        type: string
      user_level:
        enum:
        - USER
        - ADMIN
        example: ADMIN
        type: string
      user_name:
        example: fossy
        type: string
      user_password:
        type: string
    type: object
info:
  contact:
    email: fossology@fossology.org
    name: FOSSology
    url: https://fossology.org
  description: Service to host license information for other services to query over
    REST API.
  license:
    name: GPL-2.0-only
    url: https://github.com/fossology/LicenseDb/blob/main/LICENSE
  title: laas (License as a Service) API
  version: 0.0.9
paths:
  /apiCollection:
    get:
      consumes:
      - application/json
      description: Returns the apis which require authentication and which do not
      operationId: getAPICollection
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.APICollectionResponse'
        "500":
          description: Unable to parse swagger docs
          schema:
            $ref: '#/definitions/models.LicenseError'
      summary: Returns the apis which require authentication and which do not
      tags:
      - API Collection
  /audits:
    get:
      consumes:
      - application/json
      description: Get all audit records from the server
      operationId: GetAllAudit
      parameters:
      - description: Page number
        in: query
        name: page
        type: integer
      - description: Number of records per page
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Audit records
          schema:
            $ref: '#/definitions/models.AuditResponse'
        "404":
          description: Not changelogs in DB
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - '{}': []
        ApiKeyAuth: []
      summary: Get audit records
      tags:
      - Audits
  /audits/{audit_id}:
    get:
      consumes:
      - application/json
      description: Get a specific audit records by ID
      operationId: GetAudit
      parameters:
      - description: Audit ID
        in: path
        name: audit_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.AuditResponse'
        "400":
          description: Invalid audit ID
          schema:
            $ref: '#/definitions/models.LicenseError'
        "404":
          description: No audit entry with given ID
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - '{}': []
        ApiKeyAuth: []
      summary: Get an audit record
      tags:
      - Audits
  /audits/{audit_id}/changes:
    get:
      consumes:
      - application/json
      description: Get changelogs of an audit record
      operationId: GetChangeLogs
      parameters:
      - description: Audit ID
        in: path
        name: audit_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ChangeLogResponse'
        "400":
          description: Invalid audit ID
          schema:
            $ref: '#/definitions/models.LicenseError'
        "404":
          description: No audit entry with given ID
          schema:
            $ref: '#/definitions/models.LicenseError'
        "500":
          description: unable to find changes
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - '{}': []
        ApiKeyAuth: []
      summary: Get changelogs
      tags:
      - Audits
  /audits/{audit_id}/changes/{id}:
    get:
      consumes:
      - application/json
      description: Get a specific changelog of an audit record by its ID
      operationId: GetChangeLogbyId
      parameters:
      - description: Audit ID
        in: path
        name: audit_id
        required: true
        type: string
      - description: Changelog ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ChangeLogResponse'
        "400":
          description: Invalid ID
          schema:
            $ref: '#/definitions/models.LicenseError'
        "404":
          description: No changelog with given ID found
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - '{}': []
        ApiKeyAuth: []
      summary: Get a changelog
      tags:
      - Audits
  /dashboard:
    get:
      consumes:
      - application/json
      description: Fetches data to be displayed on the dashboard
      operationId: GetDashboardData
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.DashboardResponse'
        "500":
          description: Something went wrong
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - '{}': []
        ApiKeyAuth: []
      summary: Fetches data to be displayed on the dashboard
      tags:
      - Dashboard
  /health:
    get:
      consumes:
      - application/json
      description: Check health of the service
      operationId: getHealth
      produces:
      - application/json
      responses:
        "200":
          description: Heath is OK
          schema:
            $ref: '#/definitions/models.LicenseError'
        "500":
          description: Connection to DB failed
          schema:
            $ref: '#/definitions/models.LicenseError'
      summary: Check health
      tags:
      - Health
  /licenses:
    get:
      consumes:
      - application/json
      description: Filter licenses based on different parameters
      operationId: FilterLicense
      parameters:
      - description: SPDX ID of the license
        in: query
        name: spdxid
        type: string
      - description: Active license only
        in: query
        name: active
        type: boolean
      - description: OSI Approved flag status of license
        in: query
        name: osiapproved
        type: boolean
      - description: Copyleft flag status of license
        in: query
        name: copyleft
        type: boolean
      - description: Page number
        in: query
        name: page
        type: integer
      - description: Limit of responses per page
        in: query
        name: limit
        type: integer
      - description: External reference parameters
        in: query
        name: externalRef
        type: string
      - default: shortname
        description: Sort by field
        enum:
        - spdx_id
        - shortname
        - fullname
        in: query
        name: sort_by
        type: string
      - default: asc
        description: Asc or desc ordering
        enum:
        - asc
        - desc
        in: query
        name: order_by
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Filtered licenses
          schema:
            $ref: '#/definitions/models.LicenseResponse'
        "400":
          description: Invalid value
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - '{}': []
        ApiKeyAuth: []
      summary: Filter licenses
      tags:
      - Licenses
    post:
      consumes:
      - application/json
      description: Create a new license in the service
      operationId: CreateLicense
      parameters:
      - description: New license to be created
        in: body
        name: license
        required: true
        schema:
          $ref: '#/definitions/models.LicenseCreateDTO'
      produces:
      - application/json
      responses:
        "201":
          description: New license created successfully
          schema:
            $ref: '#/definitions/models.LicenseResponse'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/models.LicenseError'
        "500":
          description: Failed to create license
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Create a new license
      tags:
      - Licenses
  /licenses/{id}:
    get:
      consumes:
      - application/json
      description: Get a single license by its id
      operationId: GetLicense
      parameters:
      - description: Id of the license
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LicenseResponse'
        "404":
          description: License with id not found
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - '{}': []
        ApiKeyAuth: []
      summary: Get a license by id
      tags:
      - Licenses
    patch:
      consumes:
      - application/json
      description: Update a license in the service
      operationId: UpdateLicense
      parameters:
      - description: Id of the license to be updated
        in: path
        name: id
        required: true
        type: string
      - description: Update license body (requires only the fields to be updated)
        in: body
        name: license
        required: true
        schema:
          $ref: '#/definitions/models.LicenseUpdateDTO'
      produces:
      - application/json
      responses:
        "200":
          description: License updated successfully
          schema:
            $ref: '#/definitions/models.LicenseResponse'
        "400":
          description: Invalid license body
          schema:
            $ref: '#/definitions/models.LicenseError'
        "404":
          description: License with id not found
          schema:
            $ref: '#/definitions/models.LicenseError'
        "500":
          description: Failed to update license
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Update a license
      tags:
      - Licenses
  /licenses/export:
    get:
      description: Export all licenses as a json file
      operationId: ExportLicenses
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LicenseResponseDTO'
            type: array
        "500":
          description: Failed to fetch Licenses
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - '{}': []
        ApiKeyAuth: []
      summary: Export all licenses as a json file
      tags:
      - Licenses
  /licenses/import:
    post:
      consumes:
      - multipart/form-data
      description: Import licenses by uploading a json file
      operationId: ImportLicenses
      parameters:
      - description: licenses json file list
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/models.ImportLicensesResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/models.LicenseImportStatus'
                  type: array
              type: object
        "400":
          description: input file must be present
          schema:
            $ref: '#/definitions/models.LicenseError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Import licenses by uploading a json file
      tags:
      - Licenses
  /licenses/preview:
    get:
      consumes:
      - application/json
      description: Get shortnames and ids of all active licenses from the service
      operationId: GetAllLicensePreviews
      parameters:
      - description: Active license only
        in: query
        name: active
        required: true
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LicensePreviewResponse'
        "400":
          description: Invalid active value
          schema:
            $ref: '#/definitions/models.LicenseError'
        "500":
          description: Unable to fetch licenses
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - '{}': []
        ApiKeyAuth: []
      summary: Get shortnames and ids of all active licenses
      tags:
      - Licenses
  /licenses/similarity:
    post:
      consumes:
      - application/json
      description: Compares input license text with existing ones using pg_trgm similarity
      operationId: getSimilarLicense
      parameters:
      - description: Input license text to compare
        in: body
        name: license
        required: true
        schema:
          $ref: '#/definitions/models.SimilarityRequest'
      produces:
      - application/json
      responses:
        "200":
          description: List of similar licenses
          schema:
            items:
              $ref: '#/definitions/models.SimilarLicense'
            type: array
        "400":
          description: Invalid request or query failed
          schema:
            $ref: '#/definitions/models.LicenseError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Find similar license texts
      tags:
      - Licenses
  /login:
    post:
      consumes:
      - application/json
      description: Login to get JWT token
      operationId: Login
      parameters:
      - description: Login credentials
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/models.UserLogin'
      produces:
      - application/json
      responses:
        "200":
          description: JWT token
          schema:
            $ref: '#/definitions/models.TokenResonse'
        "401":
          description: Incorrect username or password
          schema:
            $ref: '#/definitions/models.LicenseError'
      summary: Login
      tags:
      - Users
  /obligation_maps/license/{id}:
    get:
      consumes:
      - application/json
      description: Get obligation maps for a given license id
      operationId: GetObligationMapByLicenseId
      parameters:
      - description: id of the license
        in: path
        name: license
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ObligationMapResponse'
        "404":
          description: No license with given id found
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - '{}': []
        ApiKeyAuth: []
      summary: Get maps for a license
      tags:
      - Obligations
  /obligation_maps/obligation/{id}:
    get:
      consumes:
      - application/json
      description: Get obligation maps for a given obligation id
      operationId: GetObligationMapByObligationId
      parameters:
      - description: Id of the obligation
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ObligationMapResponse'
        "404":
          description: No obligation with given id found
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - '{}': []
        ApiKeyAuth: []
      summary: Get maps for an obligation
      tags:
      - Obligations
  /obligation_maps/obligations/{id}/license:
    patch:
      consumes:
      - application/json
      description: Add or remove licenses from obligation map for a given obligation
        id
      operationId: PatchObligationMap
      parameters:
      - description: Id of the obligation
        in: path
        name: id
        required: true
        type: string
      - description: License ids with action
        in: body
        name: license_maps
        required: true
        schema:
          $ref: '#/definitions/models.LicenseMapInput'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ObligationMapResponse'
        "400":
          description: Invalid json body
          schema:
            $ref: '#/definitions/models.LicenseError'
        "404":
          description: No license or obligation found.
          schema:
            $ref: '#/definitions/models.LicenseError'
        "500":
          description: Failure to insert new maps
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Add or remove licenses from obligation map
      tags:
      - Obligations
    put:
      consumes:
      - application/json
      description: Replaces the license list of an obligation id with the given list
        in the obligation map.
      operationId: UpdateLicenseInObligationMap
      parameters:
      - description: Id of the obligation
        in: path
        name: id
        required: true
        type: string
      - description: Ids of the licenses to be in map
        in: body
        name: Ids
        required: true
        schema:
          $ref: '#/definitions/models.LicenseListInput'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ObligationMapResponse'
        "400":
          description: Invalid json body
          schema:
            $ref: '#/definitions/models.LicenseError'
        "404":
          description: No license or obligation found.
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Change license list
      tags:
      - Obligations
  /obligations:
    get:
      consumes:
      - application/json
      description: Get all active obligations from the service
      operationId: GetAllObligation
      parameters:
      - description: Active obligation only
        in: query
        name: active
        required: true
        type: boolean
      - description: Page number
        in: query
        name: page
        type: integer
      - description: Number of records per page
        in: query
        name: limit
        type: integer
      - default: asc
        description: Asc or desc ordering
        enum:
        - asc
        - desc
        in: query
        name: order_by
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ObligationResponse'
        "400":
          description: Invalid active value
          schema:
            $ref: '#/definitions/models.LicenseError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - '{}': []
        ApiKeyAuth: []
      summary: Get all active obligations
      tags:
      - Obligations
    post:
      consumes:
      - application/json
      description: Create an obligation and associate it with licenses
      operationId: CreateObligation
      parameters:
      - description: Obligation to create
        in: body
        name: obligation
        required: true
        schema:
          $ref: '#/definitions/models.ObligationCreateDTO'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.ObligationResponse'
        "400":
          description: Bad request body
          schema:
            $ref: '#/definitions/models.LicenseError'
        "500":
          description: Unable to create obligation
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Create an obligation
      tags:
      - Obligations
  /obligations/{id}:
    delete:
      consumes:
      - application/json
      description: Deactivate an obligation
      operationId: DeleteObligation
      parameters:
      - description: Id of the obligation to be updated
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "404":
          description: No obligation with given id found
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Deactivate obligation
      tags:
      - Obligations
    get:
      consumes:
      - application/json
      description: Get an active based on given id
      operationId: GetObligation
      parameters:
      - description: Id of the obligation
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ObligationResponse'
        "404":
          description: No obligation with given id found
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - '{}': []
        ApiKeyAuth: []
      summary: Get an obligation
      tags:
      - Obligations
    patch:
      consumes:
      - application/json
      description: Update an existing obligation record
      operationId: UpdateObligation
      parameters:
      - description: Id of the obligation to be updated
        in: path
        name: id
        required: true
        type: string
      - description: Obligation to be updated
        in: body
        name: obligation
        required: true
        schema:
          $ref: '#/definitions/models.ObligationUpdateDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ObligationResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/models.LicenseError'
        "404":
          description: No obligation with given id found
          schema:
            $ref: '#/definitions/models.LicenseError'
        "500":
          description: Unable to update obligation
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Update obligation
      tags:
      - Obligations
  /obligations/{id}/audits:
    get:
      consumes:
      - application/json
      description: Fetches audits corresponding to an obligation
      operationId: GetObligationAudits
      parameters:
      - description: Id of the obligation for which audits need to be fetched
        in: path
        name: id
        required: true
        type: string
      - description: Page number
        in: query
        name: page
        type: integer
      - description: Number of records per page
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.AuditResponse'
        "404":
          description: No obligation with given id found
          schema:
            $ref: '#/definitions/models.LicenseError'
        "500":
          description: unable to find audits with such obligation id
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - '{}': []
        ApiKeyAuth: []
      summary: Fetches audits corresponding to an obligation
      tags:
      - Obligations
  /obligations/classifications:
    get:
      consumes:
      - application/json
      description: Get all active obligation classifications from the service
      operationId: GetAllObligationClassification
      parameters:
      - description: Active obligation classification only
        in: query
        name: active
        required: true
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ObligationClassificationResponse'
        "404":
          description: No obligation classifications in DB
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - '{}': []
        ApiKeyAuth: []
      summary: Get all active obligation classifications
      tags:
      - Obligations
    post:
      consumes:
      - application/json
      description: Create an obligation classification
      operationId: CreateObligationClassification
      parameters:
      - description: Obligation classification to create
        in: body
        name: obligation_classification
        required: true
        schema:
          $ref: '#/definitions/models.ObligationClassification'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.ObligationClassificationResponse'
        "400":
          description: invalid json body
          schema:
            $ref: '#/definitions/models.LicenseError'
        "409":
          description: obligation classification already exists
          schema:
            $ref: '#/definitions/models.LicenseError'
        "500":
          description: something went wrong while creating new obligation classification
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Create an obligation classification
      tags:
      - Obligations
  /obligations/classifications/{classification}:
    delete:
      consumes:
      - application/json
      description: Deactivate an obligation classification
      operationId: DeleteObligationClassification
      parameters:
      - description: Obligation Classification
        in: path
        name: classification
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: cannot delete obligation classification 'GREEN' as it's still
            referenced by some obligations
          schema:
            $ref: '#/definitions/models.LicenseError'
        "404":
          description: obligation classification 'GREEN' not found
          schema:
            $ref: '#/definitions/models.LicenseError'
        "500":
          description: something went wrong while deleting obligation classification
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Deactivate obligation classification
      tags:
      - Obligations
  /obligations/export:
    get:
      description: Export all obligations as a json file
      operationId: ExportObligations
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.ObligationResponseDTO'
            type: array
        "500":
          description: Failed to fetch obligations
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - '{}': []
        ApiKeyAuth: []
      summary: Export all obligations as a json file
      tags:
      - Obligations
  /obligations/import:
    post:
      consumes:
      - multipart/form-data
      description: Import obligations by uploading a json file
      operationId: ImportObligations
      parameters:
      - description: obligations json file list
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/models.ImportObligationsResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/models.ObligationImportStatus'
                  type: array
              type: object
        "400":
          description: input file must be present
          schema:
            $ref: '#/definitions/models.LicenseError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Import obligations by uploading a json file
      tags:
      - Obligations
  /obligations/preview:
    get:
      consumes:
      - application/json
      description: Get topic and type of all active obligations from the service
      operationId: GetAllObligationPreviews
      parameters:
      - description: Active obligation only
        in: query
        name: active
        required: true
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ObligationPreviewResponse'
      security:
      - '{}': []
        ApiKeyAuth: []
      summary: Get topic and types of all active obligations
      tags:
      - Obligations
  /obligations/similarity:
    post:
      consumes:
      - application/json
      description: Returns the top 5 obligations with text similar to the input using
        pg_trgm
      operationId: getSimilarObligation
      parameters:
      - description: Text to compare against stored obligations
        in: body
        name: obligation
        required: true
        schema:
          $ref: '#/definitions/models.SimilarityRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Similar obligations found
          schema:
            items:
              $ref: '#/definitions/models.SimilarObligation'
            type: array
        "400":
          description: Invalid input or database query failure
          schema:
            $ref: '#/definitions/models.LicenseError'
        "500":
          description: Unexpected server error
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Find similar obligations
      tags:
      - Obligations
  /obligations/types:
    get:
      consumes:
      - application/json
      description: Get all active obligation types from the service
      operationId: GetAllObligationType
      parameters:
      - description: Active obligation type only
        in: query
        name: active
        required: true
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ObligationTypeResponse'
        "404":
          description: No obligation types in DB
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - '{}': []
        ApiKeyAuth: []
      summary: Get all active obligation types
      tags:
      - Obligations
    post:
      consumes:
      - application/json
      description: Create an obligation type
      operationId: CreateObligationType
      parameters:
      - description: Obligation type to create
        in: body
        name: obligation_type
        required: true
        schema:
          $ref: '#/definitions/models.ObligationType'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.ObligationTypeResponse'
        "400":
          description: invalid json body
          schema:
            $ref: '#/definitions/models.LicenseError'
        "409":
          description: obligation type already exists
          schema:
            $ref: '#/definitions/models.LicenseError'
        "500":
          description: something went wrong while creating new obligation type
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Create an obligation type
      tags:
      - Obligations
  /obligations/types/{type}:
    delete:
      consumes:
      - application/json
      description: Deactivate an obligation type
      operationId: DeleteObligationType
      parameters:
      - description: Obligation Type
        in: path
        name: type
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: cannot delete obligation type 'RISK' as it's still referenced
            by some obligations
          schema:
            $ref: '#/definitions/models.LicenseError'
        "404":
          description: obligation type 'RISK' not found
          schema:
            $ref: '#/definitions/models.LicenseError'
        "500":
          description: something went wrong while deleting obligation type
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Deactivate obligation type
      tags:
      - Obligations
  /oidcClients:
    delete:
      consumes:
      - application/json
      description: Remove an oidc client if it gets expired or is compromised
      operationId: RevokeClient
      parameters:
      - description: Oidc client to add
        in: body
        name: oidc_client
        required: true
        schema:
          $ref: '#/definitions/models.CreateDeleteOidcClientDTO'
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "404":
          description: Oidc Client not found
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Remove an oidc client
      tags:
      - OIDC Clients
    get:
      description: Get all oidc clients added by the user for initiating M2M flow
        with fossology
      operationId: GetUserOidcClients
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.OidcClientsResponse'
        "500":
          description: Something went wrong
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Get all oidc clients added by the user
      tags:
      - OIDC Clients
    post:
      consumes:
      - application/json
      description: Add a new client for initiating M2M flow with fossology
      operationId: CreateOidcClient
      parameters:
      - description: Oidc client to add
        in: body
        name: oidc_client
        required: true
        schema:
          $ref: '#/definitions/models.CreateDeleteOidcClientDTO'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.OidcClientsResponse'
        "400":
          description: invalid json body
          schema:
            $ref: '#/definitions/models.LicenseError'
        "409":
          description: oidc client already exists
          schema:
            $ref: '#/definitions/models.LicenseError'
        "500":
          description: something went wrong while adding new oidc client
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Adds a new oidc client
      tags:
      - OIDC Clients
  /refresh-token:
    post:
      consumes:
      - application/json
      description: verify refresh token and get new access token
      operationId: RefreshToken
      parameters:
      - description: Refresh token payload
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/models.RefreshToken'
      produces:
      - application/json
      responses:
        "200":
          description: ' JWT token'
          schema:
            $ref: '#/definitions/models.TokenResonse'
        "401":
          description: Invalid or expired refresh token
          schema:
            $ref: '#/definitions/models.LicenseError'
      summary: Verify refresh token
      tags:
      - Users
  /search:
    post:
      consumes:
      - application/json
      description: Search licenses on different filters and algorithms
      operationId: SearchInLicense
      parameters:
      - description: Search criteria
        in: body
        name: search
        required: true
        schema:
          $ref: '#/definitions/models.SearchLicense'
      produces:
      - application/json
      responses:
        "200":
          description: Licenses matched
          schema:
            $ref: '#/definitions/models.LicenseResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/models.LicenseError'
        "404":
          description: Search algorithm doesn't exist
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - '{}': []
        ApiKeyAuth: []
      summary: Search licenses
      tags:
      - Licenses
  /users:
    get:
      consumes:
      - application/json
      description: Get all service users
      operationId: GetAllUsers
      parameters:
      - description: Active user only
        in: query
        name: active
        type: boolean
      - description: Page number
        in: query
        name: page
        type: integer
      - description: Number of records per page
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.UserResponse'
        "404":
          description: Users not found
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Get users
      tags:
      - Users
    patch:
      consumes:
      - application/json
      description: Users can update their profile using this endpoint
      operationId: UpdateProfile
      parameters:
      - description: Profile fields to update
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/models.ProfileUpdate'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.UserResponse'
        "400":
          description: Invalid json body
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Users can update their profile using this endpoint
      tags:
      - Users
    post:
      consumes:
      - application/json
      description: Create a new service user
      operationId: CreateUser
      parameters:
      - description: User to create
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/models.UserCreate'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.UserResponse'
        "400":
          description: Invalid json body
          schema:
            $ref: '#/definitions/models.LicenseError'
        "409":
          description: User already exists
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Create new user
      tags:
      - Users
  /users/{username}:
    delete:
      consumes:
      - application/json
      description: Deactivate an user
      operationId: DeleteUser
      parameters:
      - description: Username of the user to be marked as inactive
        in: path
        name: username
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "404":
          description: No user with given username found
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Deactivate user
      tags:
      - Users
    get:
      consumes:
      - application/json
      description: Get a single user by username
      operationId: GetUser
      parameters:
      - description: Username
        in: path
        name: username
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.UserResponse'
        "400":
          description: Invalid user id
          schema:
            $ref: '#/definitions/models.LicenseError'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Get a user
      tags:
      - Users
    patch:
      consumes:
      - application/json
      description: Update a service user, requires admin rights
      operationId: UpdateUser
      parameters:
      - description: username of the user to be updated
        in: path
        name: username
        required: true
        type: string
      - description: User to update
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/models.UserUpdate'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.UserResponse'
        "400":
          description: Invalid json body
          schema:
            $ref: '#/definitions/models.LicenseError'
        "403":
          description: This resource requires elevated access rights
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Update user, requires admin rights
      tags:
      - Users
  /users/oidc:
    post:
      consumes:
      - application/json
      description: Create a new service user via oidc id token
      operationId: CreateOidcUser
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.UserResponse'
        "400":
          description: Invalid json body
          schema:
            $ref: '#/definitions/models.LicenseError'
        "409":
          description: User already exists
          schema:
            $ref: '#/definitions/models.LicenseError'
      summary: Create new user via oidc id token
      tags:
      - Users
  /users/profile:
    get:
      consumes:
      - application/json
      description: Get user's own profile
      operationId: GetUserProfile
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.UserResponse'
        "400":
          description: Invalid user
          schema:
            $ref: '#/definitions/models.LicenseError'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/models.LicenseError'
      security:
      - ApiKeyAuth: []
      summary: Get user's own profile
      tags:
      - Users
securityDefinitions:
  ApiKeyAuth:
    description: Token from /login endpoint. Enter the token with the `Bearer ` prefix,
      e.g. \"Bearer eyJhbGciOiJ.....\"
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"

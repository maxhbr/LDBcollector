default:
    image: fedora:latest

    before_script:
        - dnf install -y make git python3-pip python3-toml
        - pip3 install toml-validator

stages:
    - test
    
workflow:
    rules:
        - if: $CI_PIPELINE_SOURCE == 'merge_request_event'

toml-validate:
    stage: test
    #artifacts:
    #    paths:
    #        - data/*.toml
    #        - tools/*.py
    script:
        - make toml-validate

spec-validate:
    stage: test
    #artifacts:
    #    paths:
    #        - data/*.toml
    #        - tools/*.py
    script:
        - make spec-validate

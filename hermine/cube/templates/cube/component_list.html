<!--
SPDX-FileCopyrightText: 2021 Hermine-team <hermine@inno3.fr>
SPDX-FileCopyrightText: 2022 Martin Delabre <gitlab.com/delabre.martin>

SPDX-License-Identifier: AGPL-3.0-only
-->

{% extends "cube/cube.html" %}
{% block title %}Components{% endblock %}
{% block breadcrumbs %}
<ul>
  <li>Hermine</li>
  <li>Components</li>
</ul>
{% endblock %}
{% block herozone %}
<h1 class="title">
  <span class="icon is-medium">
  <i class="fas fa-puzzle-piece"></i>
  </span>
3rd Party Components
</h1>
{% endblock %}

{% block content %}

{% if not page_obj.has_previous %}
<h2>Top 10 Most used components </h2>

<table class="table is-striped ">
  <thead>
    <tr>
      <th>Name</th>
      <th>Number of usages</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
{% for popular in populars %}
    <tr>
      <td><a href="{% url "cube:component_detail" popular.id %}">{{popular.name}}</a></td>
      <td>
        {{popular.popularity}}
      </td>
      <td>
        {{ popular.description|truncatechars:42 }}
      </td>
    </tr>

{% endfor %}
  </tbody>
</table>
{% endif %}

<h2>All components </h2>

{% include "cube/includes/list_nav.html" %}

<table class="table is-striped ">
  <thead>
    <tr>
      <th>Name</th>
      <th>Versions</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
{% for component in object_list %}
    <tr>
      <td><a href="{% url "cube:component_detail" component.id %}">{{component.name}}</a></td>
      <td>
        {% for version in component.versions.all %}
          {{ version.version_number}}
        {% endfor %}
      </td>
      <td>
        {{ component.description|truncatechars:42 }}
      </td>
    </tr>

{% endfor %}
  </tbody>
</table>

{% include "cube/includes/list_nav.html" %}

{% endblock %}

1
'
o
p
o
&
q
&
r
&
s
&
t
&
u
&
v
&
w
&
x
&
y
z
{
|
}
&
~
z
z
&
&
z
z
"
&
&
ConstantPoolSize
I
ConstantValue
CONSTANT_Class
B
CONSTANT_Fieldref
CONSTANT_Methodref
CONSTANT_InterfaceMethodref
CONSTANT_String
CONSTANT_Integer
CONSTANT_Float
CONSTANT_Long
CONSTANT_Double
CONSTANT_NameAndType
CONSTANT_Utf8
cfw
'Lorg/mozilla/classfile/ClassFileWriter;
MAX_UTF_ENCODING_SIZE
itsStringConstHash
Ljava/util/HashMap;
itsUtf8Hash
itsFieldRefHash
itsMethodRefHash
itsClassHash
itsTop
itsTopIndex
itsPool
[B
<init>
*(Lorg/mozilla/classfile/ClassFileWriter;)V
Code
LineNumberTable
write
([BI)I
getWriteSize
()I
addConstant
(I)I
(J)I
(F)I
(D)I
(Ljava/lang/String;)I
isUnderUtfEncodingLimit
(Ljava/lang/String;)Z
getUtfEncodingLimit
(Ljava/lang/String;II)I
addUtf8
(Ljava/lang/String;)S
addNameAndType
'(Ljava/lang/String;Ljava/lang/String;)S
addClass
addFieldRef
9(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)S
addMethodRef
addInterfaceMethodRef
ensure
(I)V
SourceFile
ClassFileWriter.java
P
java/util/HashMap
F
G
H
G
I
G
J
G
K
G
C
D
M
)
N
O
L
)
k
l
[
b
c
W
`
a
"java/lang/IllegalArgumentException
Too big string
P
Y
&org/mozilla/classfile/FieldOrMethodRef
P
d
e
f
c
"org/mozilla/classfile/ConstantPool
java/lang/Object
()V
%org/mozilla/classfile/ClassFileWriter
putInt16
(I[BI)I
java/lang/System
arraycopy
*(Ljava/lang/Object;ILjava/lang/Object;II)V
putInt32
putInt64
(J[BI)I
java/lang/Float
floatToIntBits
java/lang/Double
doubleToLongBits
(D)J
java/lang/Integer
valueOf
(I)Ljava/lang/Integer;
put
8(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
java/lang/String
length
charAt
(I)C
getCharBuffer
(I)[C
getChars
(II[CI)V
(Ljava/lang/String;)V
indexOf
getSlashedForm
&(Ljava/lang/String;)Ljava/lang/String;
9(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
0
&
'
(
)
*
+
,
-
*
.
/
-
*
0
1
-
*
2
3
-
*
4
5
-
*
6
7
-
*
8
9
-
*
:
;
-
*
<
=
-
*
>
?
-
*
@
A
-
*
B
C
D
E
)
*
F
G
H
G
I
G
J
G
K
G
L
)
M
)
N
O
P
Q
R
T*
*
Y
*
Y
*
Y
*
Y
*
Y
*+
*
*
*
S
.
(
)
*
%
+
0
,
;
@
E
N
S
T
U
R
F
"*
+
=*
+
*
*
`=
S
#
$
%
&
V
W
R
*
`
S
+
X
Y
R
W
3*
*
*Y
Z
`
T*
*
*
*Y
Z
`
S
0
1
2
&
3
X
Z
R
d
8*
*
*Y
Z
`
T*
*
*
*
>*Y
`
S
8
9
:
'
;
,
<
6
=
X
[
R
_
7*
*
*Y
Z
`
T#
=*
*
*
*Y
Z
`
S
B
C
D
E
+
F
X
\
R
p
@*
*
*Y
Z
`
T'
B*!*
*
*
6
*Y
`
S
K
L
M
N
-
O
3
P
=
Q
X
]
R
U
*+
~=
>
F*Y
Z
`
>*
*
*Y
Z
`
T*
*
*
*
W
S
&
V
W
X
Y
Z
!
[
3
\
C
]
S
_
^
_
R
T
(+
=
h
*+
S
d
e
f
g
h
j
`
a
R
U
d
h
6
6
=+
6
S
:
s
t
v
w
x
!
y
.
z
4
{
<
|
B
~
E
J
M
w
S
b
c
R
Y
=
R+
>
6
2
6
*
h`
*
6
*
T
*
:
+
6
46
*
T
u
E*
z
T*
z
?~
T*
?~
T
+*
z
T*
?~
T
b
*
`
`d6
6
A*
*
`
z
T*
*
`
T*
*Y
Z
`
=*
+
W
Y
S
"
$
*
5
8
B
K
T
[
g
w
(
.
:
G
L
V
d
e
R
R*+
>*,
6
*
*
*Y
Z
`
T*
*
*
*
*
*
*Y
Z
`
S
$
4
E
f
c
R
=
+N+
.
+
!N
=
*
+
W
]*-
6
*
*
*Y
Z
`
T*
*
*
*Y
Z
`
=*
-
W+-
*
+
W
S
J
+
0
7
<
N
_
k
x
}
g
h
R
}
"Y+,-
#:
6
g*,-
$6
*+
%6
*
*
*Y
Z
`
T*
*
*
*
*
*
*Y
Z
`
6
*
W
S
2
$
)
;
L
]
j
y
i
h
R
}
"Y+,-
#:
6
g*,-
$6
*+
%6
*
*
*Y
Z
`
T*
*
*
*
*
*
*Y
Z
`
6
*
W
S
2
$
)
;
L
]
j
y
j
h
R
U*,-
$6
*+
%6
*
*
*Y
Z
`
T*
*
*
*
*
*
*Y
Z
`
S
&
7
H
k
l
R
s
?*
`*
3*
h=*
`
*
`=
N*
-
*
*-
S
"
'
+
9
>
"
m
n
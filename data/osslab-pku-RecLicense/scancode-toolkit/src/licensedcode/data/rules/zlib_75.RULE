This code is distributed under the zlib/libpng license
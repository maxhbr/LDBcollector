Shamelessly ripped out from the X11 distribution
Thanks for the nice licence.
